<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Valentine ðŸ’˜</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- React CDN -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>

    <style>
      body {
        margin: 0;
        font-family: Arial, sans-serif;
        text-align: center;
        overflow: hidden;

        background-image: url("./background.jpg");
        background-size: cover;
        background-position: center;
        background-repeat: no-repeat;
      }

      /* voile romantique */
      body::before {
        content: "";
        position: fixed;
        inset: 0;
        background: rgba(255, 230, 240, 0.55);
        z-index: -1;
      }

      @keyframes bounce {
        0%,100% { transform: translateY(0); }
        50% { transform: translateY(-12px); }
      }

      @keyframes pop {
        0% { transform: scale(0.6); opacity: 0; }
        100% { transform: scale(1); opacity: 1; }
      }

      .hearts::before {
        content: "ðŸ’– ðŸ’• ðŸ’˜ ðŸ’— ðŸ’“";
        position: absolute;
        bottom: -40px;
        font-size: 40px;
        animation: floatUp 3s ease-in-out infinite;
      }

      @keyframes floatUp {
        0% { transform: translateY(0); opacity: 0; }
        30% { opacity: 1; }
        100% { transform: translateY(-100vh); opacity: 0; }
      }

      button {
        border: none;
        border-radius: 999px;
        cursor: pointer;
        margin: 10px;
      }
    </style>
  </head>

  <body>
    <div id="root"></div>

    <script>
      const { useState } = React;
      const { createRoot } = ReactDOM;

      function App() {
        const [noClicks, setNoClicks] = useState(0);
        const [isValentine, setIsValentine] = useState(false);

        // ðŸŽµ audio local (crÃ©Ã© une seule fois)
        const [audio] = useState(() => new Audio("./music.mp3"));

        const yesButtonSize = 16 + noClicks * 18;

        // GIFS LOCAUX
        const firstImg = "./paimon.gif";
        const secondImg = "./rimuru.gif";

        const NO_PHRASES = [
          "No ðŸ’”",
          "Pretty please? ðŸ¥º",
          "But we'd be so cute together! ðŸ’•",
          "One more chance, pookie?",
          "Don't break my heart :(",
          "What about a maybe?",
          "Please don't do this to me, I'm fragile"
        ];

        const handleYes = () => {
          setIsValentine(true);
          audio.volume = 0.6;
          audio.play();
        };

        return React.createElement(
          "div",
          {
            style: {
              display: "flex",
              flexDirection: "column",
              alignItems: "center",
              justifyContent: "center",
              height: "100vh",
              position: "relative"
            }
          },
          !isValentine
            ? [
                React.createElement("img", {
                  src: firstImg,
                  style: { width: "200px", animation: "bounce 1.6s infinite" },
                  key: "img"
                }),
                React.createElement(
                  "h1",
                  { style: { color: "#ff4d88" }, key: "h1" },
                  "Will you be my Valentine? ðŸ’˜"
                ),
                React.createElement(
                  "div",
                  { key: "buttons" },
                  React.createElement(
                    "button",
                    {
                      onClick: handleYes,
                      style: {
                        fontSize: yesButtonSize,
                        padding: "12px 26px",
                        backgroundColor: "#ff4d88",
                        color: "#fff",
                        boxShadow: "0 0 10px rgba(255,77,136,0.6)"
                      }
                    },
                    "Yes ðŸ’–"
                  ),
                  React.createElement(
                    "button",
                    {
                      onClick: () => setNoClicks(noClicks + 1),
                      style: {
                        padding: "10px 22px",
                        backgroundColor: "#aaa",
                        color: "#fff"
                      }
                    },
                    noClicks === 0
                      ? "No"
                      : NO_PHRASES[Math.min(noClicks - 1, NO_PHRASES.length - 1)]
                  )
                )
              ]
            : [
                React.createElement("div", {
                  className: "hearts",
                  key: "hearts"
                }),
                React.createElement("img", {
                  src: secondImg,
                  style: { width: "220px", animation: "pop 0.6s ease-out" },
                  key: "rimuru"
                }),
                React.createElement(
                  "div",
                  {
                    style: {
                      fontSize: "52px",
                      color: "#ff4d88",
                      fontWeight: "bold",
                      marginTop: "20px",
                      textShadow: "0 0 15px rgba(255,77,136,0.7)"
                    },
                    key: "yay"
                  },
                  "Yay!!! ðŸ’–ðŸŽ‰"
                )
              ]
        );
      }

      const root = createRoot(document.getElementById("root"));
      root.render(React.createElement(App));
    </script>
  </body>
</html>
